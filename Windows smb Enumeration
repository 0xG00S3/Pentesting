Windows SMB Enumeration

Run enum4linux:
enum4linux -a -r -o -n -v <ip-address> 

See if anonymous logins are allowed using rpcclient:
rpcclient -U '' -N <ip-address>

	RPCCLIENT:
		- lsaquery (Domain and Domain sid)
		- enumprivs (Enumerates user privileges)
		- enumdomusers (Enumerates domain users)
		- getusername (Gets username and Authority / Domain Name)
		- queryuser <username> (Gets username information and comments*)

Run crackmapexec against the target (provides system build and domain):
cme smb <ip-address>

Run smbmap to try and enumerate smb:
smbmap -H <ip-address>

If you have the domain,username,password enumerate users using impacket lookupsid.py:
lookupsid.py DOMAIN/username:password@<ip-address>

Use cme to enumerate smb shares (creds required):
cme smb <ip-address> -u username -p 'pass' --rid-brute

Try dns transfer using dig:
dix axfr @<ip-address>

You can use nmap to enumerate smb shares as well:
nmap <ip-address> --script smb-enum-shares

You can use nmap to enumerate smb users as well:
nmap <ip-address> --script smb-enum-users --script-args smbuser=<username>,smbpass=<smbpass> <ip-address>
